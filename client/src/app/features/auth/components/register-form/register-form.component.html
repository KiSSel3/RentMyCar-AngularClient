<div class="register-card">
  <div class="register-header">
    <div class="logo">
      <i class="fas fa-car"></i>
      <h1>RentMyCar</h1>
    </div>
    <p>Create your account to start renting cars</p>
  </div>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-fields">
      <div class="form-row">
        <div class="form-field">
          <label for="firstName">First Name</label>
          <div class="input-container">
            <i class="fas fa-user"></i>
            <input
              id="firstName"
              type="text"
              formControlName="firstName"
              placeholder="Enter your first name"
            >
          </div>
          <div class="error-message" *ngIf="registerForm.get('firstName')?.errors?.['required'] && registerForm.get('firstName')?.touched">
            First name is required
          </div>
        </div>

        <div class="form-field">
          <label for="lastName">Last Name</label>
          <div class="input-container">
            <i class="fas fa-user"></i>
            <input
              id="lastName"
              type="text"
              formControlName="lastName"
              placeholder="Enter your last name"
            >
          </div>
          <div class="error-message" *ngIf="registerForm.get('lastName')?.errors?.['required'] && registerForm.get('lastName')?.touched">
            Last name is required
          </div>
        </div>
      </div>

      <div class="form-field">
        <label for="userName">Username</label>
        <div class="input-container">
          <i class="fas fa-at"></i>
          <input
            id="userName"
            type="text"
            formControlName="userName"
            placeholder="Choose your username"
          >
        </div>
        <div class="error-message" *ngIf="registerForm.get('userName')?.errors?.['required'] && registerForm.get('userName')?.touched">
          Username is required
        </div>
      </div>

      <div class="form-field">
        <label for="email">Email</label>
        <div class="input-container">
          <i class="fas fa-envelope"></i>
          <input
            id="email"
            type="email"
            formControlName="email"
            placeholder="Enter your email"
          >
        </div>
        <div class="error-message" *ngIf="registerForm.get('email')?.errors?.['required'] && registerForm.get('email')?.touched">
          Email is required
        </div>
        <div class="error-message" *ngIf="registerForm.get('email')?.errors?.['email'] && registerForm.get('email')?.touched">
          Please enter a valid email
        </div>
      </div>

      <div class="form-field">
        <label for="phoneNumber">Phone Number</label>
        <div class="input-container">
          <i class="fas fa-phone"></i>
          <input
            id="phoneNumber"
            type="tel"
            formControlName="phoneNumber"
            placeholder="Enter your phone number"
          >
        </div>
        <div class="error-message" *ngIf="registerForm.get('phoneNumber')?.errors?.['required'] && registerForm.get('phoneNumber')?.touched">
          Phone number is required
        </div>
      </div>

      <div class="form-field">
        <label for="password">Password</label>
        <div class="input-container">
          <i class="fas fa-lock"></i>
          <input
            id="password"
            type="password"
            formControlName="password"
            placeholder="Create your password"
          >
        </div>
        <div class="error-message" *ngIf="registerForm.get('password')?.errors?.['required'] && registerForm.get('password')?.touched">
          Password is required
        </div>
        <div class="error-message" *ngIf="registerForm.get('password')?.errors?.['minlength'] && registerForm.get('password')?.touched">
          Password must be at least 6 characters long
        </div>
      </div>

      <button
        type="submit"
        [disabled]="registerForm.invalid || isLoading"
        class="submit-button"
      >
        <span *ngIf="!isLoading">Create Account</span>
        <div class="loader" *ngIf="isLoading"></div>
      </button>

      <button
        type="button"
        class="switch-button"
        (click)="onSwitchToLogin()"
      >
        <p>Already have an account?</p> Sign In
      </button>
    </div>
  </form>

  <div class="register-footer">
    <div class="features">
      <div class="feature">
        <i class="fas fa-car-side"></i>
        <span>Wide Selection</span>
      </div>
      <div class="feature">
        <i class="fas fa-shield-alt"></i>
        <span>Secure Booking</span>
      </div>
      <div class="feature">
        <i class="fas fa-headset"></i>
        <span>24/7 Support</span>
      </div>
    </div>
  </div>
</div>
